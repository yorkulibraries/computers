// attach proper css file

function pc_access_load_script(path) {
  var xhrObj = new XMLHttpRequest();
  xhrObj.open('GET', path, false);
  xhrObj.send('');
  var script = document.createElement('script'); script.type = 'text/javascript';
  script.text = xhrObj.responseText;

  document.getElementsByTagName('head')[0].appendChild(script);
}




// Check if jquery exists and load it if it doesn't
if (!window.jQuery) {
  jq_path = 'https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js';

  pc_access_load_script(jq_path);
}

if (!window.$.rails) {
  jq_ujs_path = 'https://raw.githubusercontent.com/rails/jquery-ujs/master/src/rails.js';
  pc_access_load_script(jq_ujs_path);
}

// CSS FILE
var css_path = $("<%= j stylesheet_link_tag "controllers/api" %>").attr("href");
var pca_css_file = document.createElement('link');
pca_css_file.rel = "stylesheet";
pca_css_file.media = "all"
pca_css_file.href = "<%= path_to_url %>" + css_path;
document.getElementsByTagName('head')[0].appendChild(pca_css_file);
